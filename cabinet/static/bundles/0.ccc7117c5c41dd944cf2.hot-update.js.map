{"version":3,"sources":["webpack:///./cabinet/static/src/components/reports/ReportIp.js"],"names":["ReportIp","props","showDetail","bind","renderItem","renderItems","getResponse","state","it","id","site","actions","fetchReportsIp","platform","window","start_collaps","response","items","data","results","console","log","length","obj","newState","Object","assign","setState","item","ip","count","distinct_user_agents","distinct_cookie","map","mapStateToProps","reports","mapDispatchToProps","dispatch"],"mappings":"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","file":"0.ccc7117c5c41dd944cf2.hot-update.js","sourcesContent":["import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {fetchReportsIp} from '../../actions/ReportActions';\r\nimport {bindActionCreators} from 'redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nclass ReportIp extends Component{\r\n\tconstructor(props) {\r\n\t    super(props);\r\n\t    this.showDetail = this.showDetail.bind(this);\r\n\t    this.renderItem = this.renderItem.bind(this);\r\n\t    this.renderItems = this.renderItems.bind(this);\r\n\t    this.getResponse = this.getResponse.bind(this);\r\n\t    this.state = {}\r\n    }\r\n    componentDidMount(){\r\n    \tvar it = this\r\n\t\tconst { id } = this.props.site\r\n\t    this.props.actions.fetchReportsIp(this.props.site,this.props.platform, this.getResponse, it);\r\n\t    window.start_collaps\r\n\t}\r\n\tshowDetail(){\r\n\r\n\t}\r\n\tgetResponse(response, it, site, platform){\r\n\t\tvar items = response.data.results;\r\n\t\tconsole.log(items.length)\r\n\t\tif(items.length > 0){\r\n\t\t\tvar obj = {}\r\n\t\t\tobj[site] = {}\r\n\t\t\tobj[site][platform] = items\r\n\t\t\tvar newState = Object.assign({}, this.state, obj)\r\n\t\t\tthis.setState(newState) \r\n\t\t\t//console.log(\"Response \",this.state)\r\n\r\n\t\t}\r\n\t\t\r\n\t}\r\n\trenderItem(item){\r\n\t\treturn (\r\n\t\t\t<tr key={item.id}>\r\n\t\t\t\t<td>{item.ip}</td>\r\n\t\t\t\t<td>{item.count}</td>\r\n\t\t\t\t<td>{item.distinct_user_agents}</td>\r\n\t\t\t\t<td>{item.distinct_cookie}</td>\r\n\t\t\t</tr>\r\n\t\t\t)\r\n\r\n\t}\r\n\trenderItems(site, platform){\r\n\t\tif(this.state[site]){\r\n\t\t\tif(this.state[site][platform] && this.state[site][platform].length > 0 ){\r\n\t\t\t\treturn (\r\n\t\t\t\t\tthis.state[site][platform].map((item) => {\r\n\t\t\t\t\t\treturn this.renderItem(item)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\trender(){\r\n\t\t\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t  <table className=\"report-table table table-bordered\">\r\n\t\t\t  \t<thead>\r\n\t\t\t  \t\t<tr>\r\n\t\t\t  \t\t\t<td>IP</td>\r\n\t\t\t  \t\t\t<td>Количество посещений</td>\r\n\t\t\t  \t\t\t<td>Уникальных браузеров</td>\r\n\t\t\t  \t\t\t<td>Уникальных кук</td>\r\n\t\t\t  \t\t</tr>\r\n\t\t\t  \t</thead>\r\n\t\t\t  \t<tbody>\r\n\t\t\t  \t\t{this.renderItems(this.props.site,this.props.platform)}\r\n\r\n\t\t\t  \t</tbody>\r\n\t\t\t  </table>\r\n\t\t\t</div>\r\n\t\t\t)\r\n\t\t\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps (state) {\r\n\tconsole.log(state)\r\n  \r\n  return {\r\n  \treports:state.reports,\r\n    \r\n  }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        actions: bindActionCreators({fetchReportsIp}, dispatch)\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(ReportIp);\n\n\n// WEBPACK FOOTER //\n// ./cabinet/static/src/components/reports/ReportIp.js"],"sourceRoot":""}